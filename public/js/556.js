"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[556],{1480:(a,t,d)=>{d.d(t,{Z:()=>s});var n=d(3645),e=d.n(n)()((function(a){return a[1]}));e.push([a.id,'@charset "UTF-8";table[data-v-6983a180]{margin:auto;min-width:1100px}td[data-v-6983a180],tr[data-v-6983a180]{border:0}th[data-v-6983a180]{background-color:#659498;border-bottom:0;padding:10px 0}td[data-v-6983a180],th[data-v-6983a180]{padding-left:0!important;padding-right:0!important}.slot[data-v-6983a180]{background-color:#659498;border-left:2px solid #2c3034;border-right:2px solid #2c3034;height:70px;position:relative;white-space:nowrap;width:100%}.slot[data-full-day=true][data-v-6983a180]{background-color:transparent}.slot[data-full-day=true][data-v-6983a180]:after{content:"Няма свободни часове за този ден"}.slot[data-v-6983a180]:after{content:"Зает";display:block;font-size:15px;height:100%;left:50%;line-height:70px;position:absolute;top:50%;transform:translate(-50%,-50%);white-space:nowrap;width:100%}.slot[data-minutes="30"][data-v-6983a180]{left:50%}.slot[data-hours="0"][data-v-6983a180],.slot[data-hours="0"][data-minutes-end="30"][data-v-6983a180]{width:50%}.slot[data-hours="1"][data-v-6983a180]{width:100%}.slot[data-hours="1"][data-minutes="30"][data-v-6983a180]{width:50%}.slot[data-hours="1"][data-minutes-end="30"][data-v-6983a180]{width:150%}.slot[data-hours="1"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:100%}.slot[data-hours="2"][data-v-6983a180]{width:200%}.slot[data-hours="2"][data-minutes="30"][data-v-6983a180]{width:150%}.slot[data-hours="2"][data-minutes-end="30"][data-v-6983a180]{width:250%}.slot[data-hours="2"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:200%}.slot[data-hours="3"][data-v-6983a180]{width:300%}.slot[data-hours="3"][data-minutes="30"][data-v-6983a180]{width:250%}.slot[data-hours="3"][data-minutes-end="30"][data-v-6983a180]{width:350%}.slot[data-hours="3"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:300%}.slot[data-hours="4"][data-v-6983a180]{width:400%}.slot[data-hours="4"][data-minutes="30"][data-v-6983a180]{width:350%}.slot[data-hours="4"][data-minutes-end="30"][data-v-6983a180]{width:450%}.slot[data-hours="4"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:400%}.slot[data-hours="5"][data-v-6983a180]{width:500%}.slot[data-hours="5"][data-minutes="30"][data-v-6983a180]{width:450%}.slot[data-hours="5"][data-minutes-end="30"][data-v-6983a180]{width:550%}.slot[data-hours="5"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:500%}.slot[data-hours="6"][data-v-6983a180]{width:600%}.slot[data-hours="6"][data-minutes="30"][data-v-6983a180]{width:550%}.slot[data-hours="6"][data-minutes-end="30"][data-v-6983a180]{width:650%}.slot[data-hours="6"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:600%}.slot[data-hours="7"][data-v-6983a180]{width:700%}.slot[data-hours="8"][data-v-6983a180]{width:800%}.slot[data-hours="8"][data-minutes="30"][data-v-6983a180]{width:750%}.slot[data-hours="8"][data-minutes-end="30"][data-v-6983a180]{width:850%}.slot[data-hours="8"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:800%}.slot[data-hours="9"][data-v-6983a180]{width:900%}.slot[data-hours="9"][data-minutes="30"][data-v-6983a180]{width:850%}.slot[data-hours="9"][data-minutes-end="30"][data-v-6983a180]{width:950%}.slot[data-hours="9"][data-minutes-end="30"][data-minutes="30"][data-v-6983a180]{width:900%}.slot.active[data-v-6983a180],.slot.half[data-v-6983a180]{background-color:red;color:#000}.slot.half[data-v-6983a180]{width:150%}',""]);const s=e},1556:(a,t,d)=>{d.r(t),d.d(t,{default:()=>S});var n=d(821),e=function(a){return(0,n.dD)("data-v-6983a180"),a=a(),(0,n.Cn)(),a},s={class:"section-wrapper my-5"},i={class:"container-xxl"},o=e((function(){return(0,n._)("h1",{class:"my-5 d-flex align-items-center"},[(0,n._)("i",{class:"bi bi-calendar-week me-3 fs-1"}),(0,n.Uk)(" График ")],-1)})),l={style:{"max-width":"200px"},class:"text-black mb-5"},r={key:0,class:"table-responsive my-5"},u=e((function(){return(0,n._)("i",{class:"bi bi-arrow-left-right fs-1 d-block d-sm-none text-center"},null,-1)})),h={key:0},v=[e((function(){return(0,n._)("h1",{class:"text-center my-5"},"Зареждане...",-1)}))],c={key:1},m=e((function(){return(0,n._)("strong",null,[(0,n._)("small",null,"Час")],-1)})),p={class:"table table-dark table-striped text-center align-middle"},w={class:"fw-normal position-relative",style:{"min-width":"125px",height:"50px","border-right":"2px solid white"}},f={class:"position-absolute top-50 start-50 translate-middle",style:{"white-space":"nowrap"}},g={key:0},b=["data-hours","data-minutes","data-minutes-end","data-full-day"],k={key:2,class:"text-center my-5"},y={class:"actions"},_=["href"];var x=d(9669),D=d.n(x);const H={name:"AppointmentsPage",setup:function(){var a=(0,n.iH)(null),t=(0,n.iH)(!1),d=(0,n.Fl)((function(){var a=new Date,t=String(a.getDate()).padStart(2,"0"),d=String(a.getMonth()+1).padStart(2,"0");return a.getFullYear()+"-"+d+"-"+t}));function e(d){t.value=!0,D().get("/api/appointments",{params:{date:d}}).then((function(d){t.value=!1,200===d.status&&(a.value=d.data.map((function(a){return[a.from_h,a.until_h]})))})).catch((function(a){t.value=!1,console.log("Could not fetch appointments",a)}))}return(0,n.bv)((function(){e(d.value)})),{appointments:a,submitFormHandler:e,today:d,isLoading:t}}};var I=d(3379),F=d.n(I),q=d(1480),C={insert:"head",singleton:!1};F()(q.Z,C);q.Z.locals;const S=(0,d(3744).Z)(H,[["render",function(a,t,d,e,x,D){var H=(0,n.up)("FormKit");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",i,[o,(0,n._)("div",l,[(0,n.Wm)(H,{type:"date",name:"date",value:e.today,label:"Изберете дата",validation:"required","validation-visibility":"live",onInput:e.submitFormHandler,style:{"background-color":"white",color:"black"}},null,8,["value","onInput"])]),e.appointments?((0,n.wg)(),(0,n.iD)("div",r,[u,e.isLoading?((0,n.wg)(),(0,n.iD)("div",h,v)):((0,n.wg)(),(0,n.iD)("div",c,[m,(0,n._)("table",p,[(0,n._)("thead",null,[(0,n._)("tr",null,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(8,(function(a){return(0,n._)("th",w,[(0,n._)("span",f,(0,n.zw)(a+10+":00 - "+(a+11)+":00"),1)])})),64))])]),e.appointments.length>0?((0,n.wg)(),(0,n.iD)("tbody",g,[(0,n._)("tr",null,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(8,(function(a){return(0,n._)("td",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.appointments,(function(t){return(0,n.wg)(),(0,n.iD)(n.HY,null,[t[0].split(".")[0]==a+10?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"slot","data-hours":parseInt(t[1])-parseInt(t[0]),"data-minutes":t[0].split(".")[1],"data-minutes-end":t[1].split(".")[1],"data-full-day":parseInt(t[1])-parseInt(t[0])==9?"true":"false"},null,8,b)):(0,n.kq)("",!0)],64)})),256))])})),64))])])):(0,n.kq)("",!0)])])),0===e.appointments.length?((0,n.wg)(),(0,n.iD)("div",k," Всички часове за тази дата са свободни ")):(0,n.kq)("",!0)])):(0,n.kq)("",!0),(0,n._)("div",y,[(0,n._)("a",{href:"tel:".concat(a.$MOBILE_CONST),class:"d-inline-block btn_tertiary btn-inverse"},"Запази час по телефона",8,_)])])])}],["__scopeId","data-v-6983a180"]])}}]);